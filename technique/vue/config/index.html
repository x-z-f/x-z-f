<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>工具</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="assets/img/logo.jpg">
    <meta name="description" content="我的个人网站">
    <link rel="preload" href="/x-z-f/assets/css/0.styles.bbb8861b.css" as="style"><link rel="preload" href="/x-z-f/assets/js/app.d5bb8f8b.js" as="script"><link rel="preload" href="/x-z-f/assets/js/2.82d3167f.js" as="script"><link rel="preload" href="/x-z-f/assets/js/25.404a9215.js" as="script"><link rel="prefetch" href="/x-z-f/assets/js/10.6d8d63a0.js"><link rel="prefetch" href="/x-z-f/assets/js/11.39430166.js"><link rel="prefetch" href="/x-z-f/assets/js/12.723fe758.js"><link rel="prefetch" href="/x-z-f/assets/js/13.0fd14972.js"><link rel="prefetch" href="/x-z-f/assets/js/14.c4d1965a.js"><link rel="prefetch" href="/x-z-f/assets/js/15.e9f6b709.js"><link rel="prefetch" href="/x-z-f/assets/js/16.8c08e31a.js"><link rel="prefetch" href="/x-z-f/assets/js/17.80e9e8bc.js"><link rel="prefetch" href="/x-z-f/assets/js/18.d55646f1.js"><link rel="prefetch" href="/x-z-f/assets/js/19.55ae25ae.js"><link rel="prefetch" href="/x-z-f/assets/js/20.0e016cdc.js"><link rel="prefetch" href="/x-z-f/assets/js/21.dd26c9d5.js"><link rel="prefetch" href="/x-z-f/assets/js/22.393ee694.js"><link rel="prefetch" href="/x-z-f/assets/js/23.b24687e0.js"><link rel="prefetch" href="/x-z-f/assets/js/24.01f526c8.js"><link rel="prefetch" href="/x-z-f/assets/js/3.85b6936d.js"><link rel="prefetch" href="/x-z-f/assets/js/4.594e3a0c.js"><link rel="prefetch" href="/x-z-f/assets/js/5.926b3c8a.js"><link rel="prefetch" href="/x-z-f/assets/js/6.7a1335a0.js"><link rel="prefetch" href="/x-z-f/assets/js/7.010fda60.js"><link rel="prefetch" href="/x-z-f/assets/js/8.f4be32c8.js"><link rel="prefetch" href="/x-z-f/assets/js/9.ee614362.js">
    <link rel="stylesheet" href="/x-z-f/assets/css/0.styles.bbb8861b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/x-z-f/" class="home-link router-link-active"><!----> <span class="site-name">工具</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/x-z-f/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/x-z-f/technique/" class="nav-link router-link-active">
  技术
</a></div><div class="nav-item"><a href="https://jak983464779.github.io/blog/technology/css-layout.html#%E5%9D%87%E5%88%86%E5%88%97" target="_blank" rel="noopener noreferrer" class="nav-link external">
  吉安康
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://blog.csdn.net/liu_1024_/article/details/102964638" target="_blank" rel="noopener noreferrer" class="nav-link external">
  press部署及发布
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/x-z-f/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/x-z-f/technique/" class="nav-link router-link-active">
  技术
</a></div><div class="nav-item"><a href="https://jak983464779.github.io/blog/technology/css-layout.html#%E5%9D%87%E5%88%86%E5%88%97" target="_blank" rel="noopener noreferrer" class="nav-link external">
  吉安康
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://blog.csdn.net/liu_1024_/article/details/102964638" target="_blank" rel="noopener noreferrer" class="nav-link external">
  press部署及发布
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/x-z-f/technique/js" class="sidebar-heading clickable"><span>JS</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/x-z-f/technique/css" class="sidebar-heading clickable"><span>CSS</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/x-z-f/technique/WeChat" class="sidebar-heading clickable"><span>微信小程序</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/x-z-f/technique/mbile" class="sidebar-heading clickable"><span>移动端</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/x-z-f/technique/vue" class="sidebar-heading clickable router-link-active open"><span>VUE</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/x-z-f/technique/vue/config/" aria-current="page" class="active sidebar-link">vue.config配置文件</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> UglifyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;uglifyjs-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exporte <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * publicPath
   * Type: string
   * Default: '/'
   * 这个值也可以被设置为空字符串 ('') 或是相对路径 ('./')，这样所有的资源都会被链接为相对路径，这样打出来的包可以被部署在任意路径
   * 构建时的输出目录
   */</span>
  publicPath<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&quot;production&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;./&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * Type: string
   * Default: 'dist'
   * 当运行 vue-cli-service build 时生成的生产环境构建文件的目录。注意目标目录在构建之前会被清除 (构建时传入 --no-clean 可关闭该行为)。
   * 提示  请始终使用 outputDir 而不要修改 webpack 的 output.path。
   * 放置静态资源的目录
   */</span>
  outputDir<span class="token operator">:</span>  process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&quot;production&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;dist&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;devdist&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * Type: string
   * Default: ''
   * 放置生成的静态资源 (js、css、img、fonts) 的 (相对于 outputDir 的) 目录
   * 提示 从生成的资源覆写 filename 或 chunkFilename 时，assetsDir 会被忽略
   */</span>
  assetsDir<span class="token operator">:</span> <span class="token string">&quot;static&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * Type: string
   * Default: 'index.html'
   * 指定生成的 index.html 的输出路径 (相对于 outputDir)。也可以是一个绝对路径。
   * 文件名哈希
   */</span>
  indexPath<span class="token operator">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * Type: boolean
   * Default: true
   * 默认情况下，生成的静态资源在它们的文件名中包含了 hash 以便更好的控制缓存。
   * 然而，这也要求 index 的 HTML 是被 Vue CLI 自动生成的。
   * 如果你无法使用 Vue CLI 生成的 index HTML，你可以通过将这个选项设为 false 来关闭文件名哈希
   */</span>
  filenameHashing<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * Type: Object
   * Default: undefined
   * 除了 entry 之外都是可选的)；
   * 提示  当在 multi-page 模式下构建时，webpack 配置会包含不一样的插件
   *      (这时会存在多个 html-webpack-plugin 和 preload-webpack-plugin 的实例)。
   *      如果你试图修改这些插件的选项，请确认运行 vue inspect。
   * 用于多页配置
   */</span>
  <span class="token comment">// pages: {</span>
  <span class="token comment">//   index: {</span>
  <span class="token comment">//     entry: &quot;src/index/main.js&quot;, // page 的入口</span>

  <span class="token comment">//     template: &quot;public/index.html&quot;, // 模板来源</span>

  <span class="token comment">//     filename: &quot;index.html&quot;, // 在 dist/index.html 的输出</span>

  <span class="token comment">//     title: &quot;Index Page&quot;, // 当使用 title 选项时， template 中的 title 标签需要是 &lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</span>

  <span class="token comment">//     chunks: [&quot;chunk-vendors&quot;, &quot;chunk-common&quot;, &quot;index&quot;] // 在这个页面中包含的块，默认情况下会包含   提取出来的通用 chunk 和 vendor chunk。</span>
  <span class="token comment">//   },</span>

  <span class="token comment">//   subpage: &quot;src/subpage/main.js&quot; // 当使用只有入口的字符串格式时，  模板会被推导为 `public/subpage.html`  并且如果找不到的话，就回退到 `public/index.html`  输出文件名会被推导为 `subpage.html`。</span>
  <span class="token comment">// },</span>

  <span class="token comment">/**
   * Type: boolean | 'warning' | 'default' | 'error'
   * Default: 'default'
   * 设置为 true 或 'warning' 时，eslint-loader 会将 lint 错误输出为编译警告。
   * 默认情况下，警告仅仅会被输出到命令行，且不会使得编译失败。
   * 如果你希望让 lint 错误在开发时直接显示在浏览器中，你可以使用 lintOnSave: 'default'。
   * 这会强制 eslint-loader 将 lint 错误输出为编译错误，同时也意味着 lint 错误将会导致编译失败。
   * 设置为 error 将会使得 eslint-loader 把 lint 警告也输出为编译错误，这意味着 lint 警告将会导致编译失败。
   */</span>
  lintOnSave<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// eslint-loader 是否在保存的时候检查</span>

  <span class="token comment">/**
   * Type: boolean
   * Default: false
   * 是否使用包含运行时编译器的 Vue 构建版本。设置为 true 后你就可以在 Vue 组件中使用 template 选项了，但是这会让你的应用额外增加 10kb 左右。
   */</span>
  runtimeCompiler<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * Type: Array&lt;string | RegExp&gt;
   * Default: []
   * 默认情况下 babel-loader 会忽略所有 node_modules 中的文件。如果你想要通过 Babel 显式转译一个依赖，可以在这个选项中列出来。
   */</span>
  transpileDependencies<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * Type: boolean
   * Default: true
   * 如果你不需要生产环境的 source map，可以将其设置为 false 以加速生产环境构建。
   * 设置生成的 HTML 中 &lt;link rel=&quot;stylesheet&quot;&gt; 和 &lt;script&gt; 标签的 crossorigin 属性。
   * 需要注意的是该选项仅影响由 html-webpack-plugin 在构建时注入的标签 - 直接写在模版 (public/index.html) 中的标签不受影响。
   */</span>
  productionSourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * Type: string
   * Default: undefined
   * 设置生成的 HTML 中 &lt;link rel=&quot;stylesheet&quot;&gt; 和 &lt;script&gt; 标签的 crossorigin 属性。
   * 需要注意的是该选项仅影响由 html-webpack-plugin 在构建时注入的标签 - 直接写在模版 (public/index.html) 中的标签不受影响。
   * https://developer.mozilla.org/zh-CN/docs/Web/HTML/CORS_settings_attributes
   */</span>
  crossorigin<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * Type: boolean
   * Default: false
   * 在生成的 HTML 中的 &lt;link rel=&quot;stylesheet&quot;&gt; 和 &lt;script&gt; 标签上启用 Subresource Integrity (SRI)。如果你构建后的文件是部署在 CDN 上的，启用该选项可以提供额外的安全性。
   * 需要注意的是该选项仅影响由 html-webpack-plugin 在构建时注入的标签 - 直接写在模版 (public/index.html) 中的标签不受影响。
   * 另外，当启用 SRI 时，preload resource hints 会被禁用，因为 Chrome 的一个 bug 会导致文件被下载两次。
   * 调整内部的 webpack 配置
   */</span>
  integrity<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * Type: Object | Function
   * 如果这个值是一个对象，则会通过 webpack-merge 合并到最终的配置中。
   * 如果这个值是一个函数，则会接收被解析的配置作为参数。该函数既可以修改配置并不返回任何东西，
   * 也可以返回一个被克隆或合并过的配置版本。
   * https://cli.vuejs.org/zh/guide/webpack.html#%E7%AE%80%E5%8D%95%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F
   */</span>
  <span class="token function-variable function">configureWebpack</span><span class="token operator">:</span> <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 为生产环境修改配置...</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      config<span class="token punctuation">.</span>mode <span class="token operator">=</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">;</span>
      <span class="token comment">// 将每个依赖包打包成单独的js文件</span>
      <span class="token keyword">var</span> optimization <span class="token operator">=</span> <span class="token punctuation">{</span>
        runtimeChunk<span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
        splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
          chunks<span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
          maxInitialRequests<span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>
          minSize<span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span> <span class="token comment">// 依赖包超过20000bit将被单独打包</span>
          cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
            vendor<span class="token operator">:</span> <span class="token punctuation">{</span>
              test<span class="token operator">:</span> <span class="token regex">/[\\/]node_modules[\\/]/</span><span class="token punctuation">,</span>
              <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// get the name. E.g. node_modules/packageName/not/this/part.js</span>
                <span class="token comment">// or node_modules/packageName</span>
                <span class="token keyword">const</span> packageName <span class="token operator">=</span> module<span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>
                  <span class="token regex">/[\\/]node_modules[\\/](.*?)([\\/]|$)/</span>
                <span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token comment">// npm package names are URL-safe, but some servers don't like @ symbols</span>
                <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">npm.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>packageName<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;@&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token keyword">new</span> <span class="token class-name">UglifyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            uglifyOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
              compress<span class="token operator">:</span> <span class="token punctuation">{</span>
                warnings<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                drop_console<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// console</span>
                drop_debugger<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                pure_funcs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;console.log&quot;</span><span class="token punctuation">]</span> <span class="token comment">// 移除console</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        optimization
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// 为开发环境修改配置...</span>
      config<span class="token punctuation">.</span>mode <span class="token operator">=</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> optimization2 <span class="token operator">=</span> <span class="token punctuation">{</span>
        runtimeChunk<span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
        splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
          chunks<span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
          maxInitialRequests<span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>
          minSize<span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span> <span class="token comment">// 依赖包超过20000bit将被单独打包</span>
          cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
            vendor<span class="token operator">:</span> <span class="token punctuation">{</span>
              test<span class="token operator">:</span> <span class="token regex">/[\\/]node_modules[\\/]/</span><span class="token punctuation">,</span>
              <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// get the name. E.g. node_modules/packageName/not/this/part.js</span>
                <span class="token comment">// or node_modules/packageName</span>
                <span class="token keyword">const</span> packageName <span class="token operator">=</span> module<span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>
                  <span class="token regex">/[\\/]node_modules[\\/](.*?)([\\/]|$)/</span>
                <span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token comment">// npm package names are URL-safe, but some servers don't like @ symbols</span>
                <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">npm.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>packageName<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;@&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token comment">// 开发生产共同配置</span>

      <span class="token comment">// externals: {</span>
      <span class="token comment">//   'vue': 'Vue',</span>
      <span class="token comment">//   'element-ui': 'ELEMENT',</span>
      <span class="token comment">//   'vue-router': 'VueRouter',</span>
      <span class="token comment">//   'vuex': 'Vuex'</span>
      <span class="token comment">// } // 防止将某些 import 的包(package)打包到 bundle 中，而是在运行时(runtime)再去从外部获取这些扩展依赖(用于csdn引入)</span>
      resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
        extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.vue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.json&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//文件优先解析后缀名顺序</span>
        alias<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;@&quot;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;./src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token string">&quot;@c&quot;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;./src/components&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token string">&quot;@v&quot;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;./src/views&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token string">&quot;@u&quot;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;./src/utils&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token string">&quot;@s&quot;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;./src/service&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 别名配置</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      optimization<span class="token operator">:</span> optimization2
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * Type: Function
   * 是一个函数，会接收一个基于 webpack-chain 的 ChainableConfig 实例。允许对内部的 webpack 配置进行更细粒度的修改。
   * https://cli.vuejs.org/zh/guide/webpack.html#%E9%93%BE%E5%BC%8F%E6%93%8D%E4%BD%9C-%E9%AB%98%E7%BA%A7
   */</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 配置 webpack-dev-server 行为。</span>

  <span class="token comment">// css相关</span>
  css<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Type: boolean
     * Default: true
     * 默认情况下，只有 *.module.[ext] 结尾的文件才会被视作 CSS Modules 模块。
     * 设置为 false 后你就可以去掉文件名中的 .module 并将所有的 *.(css|scss|sass|less|styl(us)?) 文件视为 CSS Modules 模块。
     * 提示    如果你在 css.loaderOptions.css 里配置了自定义的 CSS Module 选项，
     *        则 css.requireModuleExtension 必须被显式地指定为 true 或者 false，
     *        否则我们无法确定你是否希望将这些自定义配置应用到所有 CSS 文件中。
     */</span>
    requireModuleExtension<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * Type: boolean | Object
     * Default: 生产环境下是 true，开发环境下是 false
     * 是否将组件中的 CSS 提取至一个独立的 CSS 文件中 (而不是动态注入到 JavaScript 中的 inline 代码)。
     * 同样当构建 Web Components 组件时它总是会被禁用 (样式是 inline 的并注入到了 shadowRoot 中)。
     * 当作为一个库构建时，你也可以将其设置为 false 免得用户自己导入 CSS。
     * 提取 CSS 在开发环境模式下是默认不开启的，因为它和 CSS 热重载不兼容。然而，你仍然可以将这个值显性地设置为 true 在所有情况下都强制提取。
     */</span>
    extract<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * Type: boolean
     * Default: false
     * 是否为 CSS 开启 source map。设置为 true 之后可能会影响构建的性能。
     */</span>
    sourceMap<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * Type: Object
     * Default: {}
     * 向 CSS 相关的 loader 传递选项。
     * https://cli.vuejs.org/zh/guide/css.html#%E5%90%91%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8-loader-%E4%BC%A0%E9%80%92%E9%80%89%E9%A1%B9
     */</span>
    loaderOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
      css<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 这里的选项会传递给 css-loader</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      postcss<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 这里的选项会传递给 postcss-loader</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// devServer相关</span>
  <span class="token comment">/**
   * Type: Object
   * 所有 webpack-dev-server 的选项都支持。注意：
   * 有些值像 host、port 和 https 可能会被命令行参数覆写。
   * 有些值像 publicPath 和 historyApiFallback 不应该被修改，因为它们需要和开发服务器的 publicPath 同步以保障正常的工作
   */</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    open<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//自动打开浏览器</span>

    host<span class="token operator">:</span> <span class="token string">&quot;0.0.0.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">//局域网和本地访问</span>

    port<span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span> <span class="token comment">//端口号</span>

    https<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//编译失败时刷新页面</span>

    hot<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//热加载</span>

    hotOnly<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 查阅 https://github.com/vuejs/vue-docs-zh-cn/blob/master/vue-cli/cli-service.md#配置代理</span>

    overlay<span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token comment">// 全局模式下是否显示脚本错误</span>
      warnings<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
      errors<span class="token operator">:</span><span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * Type: string | Object
     * 如果你的前端应用和后端 API 服务器没有运行在同一个主机上，
     * 你需要在开发环境下将 API 请求代理到 API 服务器。这个问题可以通过 vue.config.js 中的 devServer.proxy 选项来配置。
     * 如果你想要更多的代理控制行为，也可以使用一个 path: options 成对的对象。
     * https://github.com/chimurai/http-proxy-middleware#proxycontext-config
     */</span>
    proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;/api&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        target<span class="token operator">:</span>
          <span class="token string">&quot;https://github.com/chimurai/http-proxy-middleware#proxycontext-config&quot;</span><span class="token punctuation">,</span> <span class="token comment">//目标代理服务器地址</span>

        ws<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//如果是要代理websockets,需要边为true</span>

        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//允许跨域</span>

        secure<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// 如果是https接口，需要配置这个参数</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&quot;/foo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        target<span class="token operator">:</span> <span class="token string">&quot;&lt;other_url&gt;&quot;</span> <span class="token comment">////目标代理服务器地址</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">before</span><span class="token operator">:</span> <span class="token parameter">app</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * Type: boolean
   * Default: require('os').cpus().length &gt; 1
   * 是否为 Babel 或 TypeScript 使用 thread-loader。该选项在系统的 CPU 有多于一个内核时自动启用，仅作用于生产构建。
   */</span>
  parallel<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;os&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">cpus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// PWA 插件的选项。</span>

  <span class="token comment">/**
   * Type: Object
   * 向 PWA 插件传递选项
   * https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa
   */</span>
  pwa<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 三方插件的选项</span>

  <span class="token comment">/**
   * Type: Object
   * 这是一个不进行任何 schema 验证的对象，因此它可以用来传递任何第三方插件选项。
   * 第三方插件配置
   */</span>
  pluginOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    foo<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 插件可以作为 `options.pluginOptions.foo` 访问这些选项。</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/x-z-f/technique/mbile/bass/" class="prev">
        初始化样式
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/x-z-f/assets/js/app.d5bb8f8b.js" defer></script><script src="/x-z-f/assets/js/2.82d3167f.js" defer></script><script src="/x-z-f/assets/js/25.404a9215.js" defer></script>
  </body>
</html>
